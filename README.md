# cute-fem-bot

## Деплой

Подготовка вольюма:

```shell
sudo docker volume create cute-fem-bot-state
```

Сборка образа:

```shell
sudo docker build -t cute-fem-bot .
```

Запуск в режиме long-polling:

```shell
# UPDATE_APPROACH could be omitted
sudo docker run \
    -e UPDATE_APPROACH=long-polling \
    -v cute-fem-bot-state:/data \
    -d cute-fem-bot
```

Запуск в режиме webhook (нужно настраивать церты и проксирование):

```shell
sudo docker run \
    -e UPDATE_APPROACH=webhook \
    -e PUBLIC_PATH=https://public-bot-base-path.com \
    -p 80:3000 \
    -v cute-fem-bot-state:/data \
    -d cute-fem-bot
```

## TODO

- Кнопка удаления предложки из очереди во время просмотра
- Во время просмотра расписания показать несколько следующих таймстампов, когда будет пост. Для бОльшей наглядности
- При постинге сжатых картинок постить их дополнительно и разжатыми?
- Использовать повторные попытки запросов, если телеграм защищается от флуда
- При общении с предложчиками, отправлять локализованный текст (и стикеры)
- Разделить модерацию на несколько "каналов": в один бот постит предложку и ответы на неё (это канал, с несколькими модераторами), а остальная модерация (очередь, расписание, банлист) через приватных админов
- Отправлять текст пользователя вместе с предложкой
- Бан-список починить: выводится без пробелов между пользователями
- На (ня, не ня и бан) писать, кто принял решение
